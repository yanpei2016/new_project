{"version":3,"sources":["slide.min.js"],"names":["window","onload","autoPlay","timer","setInterval","imgIndex","len","slideNextBtn","classList","add","remove","slidePrevBtn","slideList","style","left","itemWidth","autoPlayTime","startX","endX","disX","slideItem","document","getElementsByClassName","slideWrap","length","clientWidth","halfWidth","width","strWrap","createElement","strDot","className","i","appendChild","onmousedown","e","clearInterval","event","preventDefault","offsetX","console","log","onmousemove","onmouseup","Math","abs","onclick","this"],"mappings":"AAIAA,OAAOC,OAAS,WAmIR,SAASC,IACLC,EAAQC,YAAY,aAChBC,GACaC,EAAI,EACbC,EAAaC,UAAUC,IAAI,qBAE3BF,EAAaC,UAAUE,OAAO,qBAEnB,GAAZL,EACCM,EAAaH,UAAUC,IAAI,qBAE3BE,EAAaH,UAAUE,OAAO,qBAE/BL,GAAUC,IACTD,EAAW,GAEfO,EAAUC,MAAMC,MAAQC,EAAUV,EAAW,MAC/CW,GAnJV,IAMIC,EACAC,EACAC,EARAC,EAAYC,SAASC,uBAAuB,cAC5CV,EAAYS,SAASC,uBAAuB,cAAc,GAC1DC,EAAYF,SAASC,uBAAuB,cAAc,GAC1DX,EAAeU,SAASC,uBAAuB,kBAAkB,GACjEf,EAAec,SAASC,uBAAuB,kBAAkB,GAKjEhB,EAAMc,EAAUI,OAChBT,EAAYK,EAAU,GAAGK,YACzBC,EAAYX,EAAU,EACtBV,EAAW,EACXF,EAAQ,GAMRa,EAAe,IAGfJ,EAAUC,MAAMc,MAAQZ,EAAYT,EAAM,KAC1CiB,EAAUV,MAAMc,MAAQZ,EAAY,KAIhC,IAAIa,EAAUP,SAASQ,cAAc,MACjCC,EAAST,SAASQ,cAAc,MAChCD,EAAQG,UAAY,kBACpBD,EAAOC,UAAY,kBACnB,IAAI,IAAIC,EAAI,EAAEA,EAAI1B,EAAK0B,KAGvBJ,EAAQK,YAAYH,GACpBP,EAAUU,YAAYL,GAK1B1B,IAIJqB,EAAUW,YAAc,SAAUC,GAE9BC,cAAcjC,IACdgC,EAAGA,GAAKnC,OAAOqC,OAEbC,iBACFrB,EAASkB,EAAEI,QACXC,QAAQC,IAAI,aAEhBlB,EAAUmB,YAAc,SAAUP,GAC9BA,EAAGA,GAAKnC,OAAOqC,MACfnB,EAAOiB,EAAEI,QACLtB,IAGJE,EAAOD,EAAOD,EACdL,EAAUC,MAAMC,MAAQC,EAAUV,EAASc,EAAM,OAIrDI,EAAUoB,UAAY,SAAUR,GAC5BC,cAAcjC,GACdgC,EAAGA,GAAKnC,OAAOqC,MACfnB,EAAOiB,EAAEI,QACTpB,EAAOD,EAAOD,EACduB,QAAQC,IAAItB,GACZqB,QAAQC,IAAIpC,GACTuC,KAAKC,IAAI1B,GAAMO,IACdd,EAAUC,MAAMC,MAAQC,EAAUV,EAAU,MAG7Cc,EAAKO,IACW,GAAZrB,EACCM,EAAaH,UAAUC,IAAI,qBAE3BJ,IAEJO,EAAUC,MAAMC,MAAQC,EAAU,EAAY,MAG/CI,GAAMO,IACFrB,GAAYC,EAAI,EACfC,EAAaC,UAAUC,IAAI,sBAE3BJ,IACAM,EAAaH,UAAUE,OAAO,sBAElCE,EAAUC,MAAMC,MAAQC,EAAU,EAAY,MAIlDb,IACAe,EAAS,IAIbN,EAAamC,QAAS,WAEL,KADbzC,GAEI0C,KAAKvC,UAAUC,IAAI,qBAEpBJ,EAAS,EACRA,EAAS,GAGbE,EAAaC,UAAUE,OAAO,qBAC9BE,EAAUC,MAAMC,MAAQC,EAAUV,EAAW,OAIjDE,EAAauC,QAAU,aACnBzC,GACaC,EAAI,GACbyC,KAAKvC,UAAUC,IAAI,qBAEpBJ,GAAUC,EACTD,EAAWC,EAAI,GAGnBK,EAAaH,UAAUE,OAAO,qBAC9BE,EAAUC,MAAMC,MAAQC,EAAUV,EAAW","file":"../slide.min.js","sourcesContent":["/**\r\n * Created by lenovo on 2017/9/22.\r\n */\r\n\r\nwindow.onload = function () {\r\n    var slideItem = document.getElementsByClassName(\"slide-item\"),\r\n        slideList = document.getElementsByClassName(\"slide-list\")[0],\r\n        slideWrap = document.getElementsByClassName(\"slide-wrap\")[0],\r\n        slidePrevBtn = document.getElementsByClassName(\"slide-prev-btn\")[0],\r\n        slideNextBtn = document.getElementsByClassName(\"slide-next-btn\")[0],\r\n\r\n        startX,  //鼠标初始位置\r\n        endX,    //鼠标移动时的位置\r\n        disX,    //鼠标移动的位置差\r\n        len = slideItem.length, //轮播元素个数\r\n        itemWidth = slideItem[0].clientWidth, //单个轮播元素的宽度\r\n        halfWidth = itemWidth/3,\r\n        imgIndex = 0,\r\n        timer = \"\",\r\n\r\n        //可控参数\r\n        loop = true,  //循环播放\r\n        crateDots = true,  //创建导航点\r\n        autoplay = true, //自动轮播\r\n        autoPlayTime = 2000; //自动轮播时间间隔\r\n\r\n        //初始化silde的宽度\r\n        slideList.style.width = itemWidth * len + \"px\";\r\n        slideWrap.style.width = itemWidth + \"px\";\r\n        // slideItem[imgIndex].classList.add(\"active\");\r\n\r\n        if(crateDots){\r\n            var strWrap = document.createElement(\"ul\"),\r\n                strDot = document.createElement(\"li\");\r\n                strWrap.className = \"slide-dots-wrap\";\r\n                strDot.className = \"slide-dots-item\";\r\n                for(var i = 0;i < len; i++){\r\n                    strDot\r\n                }\r\n                strWrap.appendChild(strDot);\r\n                slideWrap.appendChild(strWrap);\r\n        }\r\n\r\n        //自动轮播\r\n        if(autoplay){\r\n            autoPlay();\r\n        }\r\n\r\n        //鼠标按下之后 停止自动播放\r\n        slideWrap.onmousedown = function (e) {\r\n            //停止自动播放\r\n            clearInterval(timer);\r\n            e =e || window.event;\r\n            //禁止浏览器默认的图片拖拽效果\r\n            e.preventDefault();\r\n            startX = e.offsetX;\r\n            console.log(\"鼠标移入目标元素\")\r\n        };\r\n        slideWrap.onmousemove = function (e) {\r\n            e =e || window.event;\r\n            endX = e.offsetX;\r\n            if(!startX){\r\n                return\r\n            }\r\n            disX = endX - startX;\r\n            slideList.style.left = -itemWidth*imgIndex+disX+ \"px\";\r\n\r\n        };\r\n        //鼠标松开之后  同步轮播图位置\r\n        slideWrap.onmouseup = function (e) {\r\n            clearInterval(timer);\r\n            e =e || window.event;\r\n            endX = e.offsetX;\r\n            disX = endX - startX;\r\n            console.log(disX);\r\n            console.log(imgIndex);\r\n            if(Math.abs(disX)<halfWidth){\r\n                slideList.style.left = -itemWidth*imgIndex+ \"px\";\r\n            }\r\n\r\n            if(disX>halfWidth){\r\n                if(imgIndex == 0){\r\n                    slidePrevBtn.classList.add(\"slide-disable-btn\");\r\n                }else{\r\n                    imgIndex--;\r\n                }\r\n                slideList.style.left = -itemWidth*(imgIndex)+ \"px\";\r\n            }\r\n\r\n            if(disX<-halfWidth){\r\n                if(imgIndex == len-1){\r\n                    slideNextBtn.classList.add(\"slide-disable-btn\");\r\n                }else{\r\n                    imgIndex++;\r\n                    slidePrevBtn.classList.remove(\"slide-disable-btn\")\r\n                }\r\n                slideList.style.left = -itemWidth*(imgIndex)+ \"px\";\r\n            }\r\n\r\n           // //开启自动播放\r\n            autoPlay();\r\n            startX = \"\";\r\n        };\r\n\r\n        //上一张按钮的点击事件\r\n        slidePrevBtn.onclick= function () {\r\n            imgIndex--;\r\n            if(imgIndex==0){\r\n                this.classList.add(\"slide-disable-btn\")\r\n            }\r\n            if(imgIndex<0){\r\n                imgIndex=0;\r\n                return\r\n            }\r\n            slideNextBtn.classList.remove(\"slide-disable-btn\");\r\n            slideList.style.left = -itemWidth*imgIndex + \"px\";\r\n        };\r\n\r\n        //下一张按钮的点击事件\r\n        slideNextBtn.onclick = function () {\r\n            imgIndex++;\r\n            if(imgIndex==len-1){\r\n                this.classList.add(\"slide-disable-btn\")\r\n            }\r\n            if(imgIndex>=len){\r\n                imgIndex = len-1;\r\n                return\r\n            }\r\n            slidePrevBtn.classList.remove(\"slide-disable-btn\");\r\n            slideList.style.left = -itemWidth*imgIndex + \"px\";\r\n        };\r\n\r\n\r\n\r\n        //自动播放函数\r\n        function autoPlay() {\r\n            timer = setInterval(function () {\r\n                imgIndex++;\r\n                if(imgIndex==len-1){\r\n                    slideNextBtn.classList.add(\"slide-disable-btn\")\r\n                }else{\r\n                    slideNextBtn.classList.remove(\"slide-disable-btn\")\r\n                }\r\n                if(imgIndex == 0){\r\n                    slidePrevBtn.classList.add(\"slide-disable-btn\")\r\n                }else{\r\n                    slidePrevBtn.classList.remove(\"slide-disable-btn\")\r\n                }\r\n                if(imgIndex>=len){\r\n                    imgIndex = 0;\r\n                }\r\n                slideList.style.left = -itemWidth*imgIndex + \"px\";\r\n            },autoPlayTime)\r\n        }\r\n};"]}